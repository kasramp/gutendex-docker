[
  {
    "id":"rolling-update-gutendex-webhook",
    "execute-command":"/home/kixz/gutendex/deploy.sh",
    "command-working-directory":"/home/kixz/gutendex",
    "include-command-output-in-response":true,
    "include-command-output-in-response-on-error":true,
    "pass-arguments-to-command":[
      {
        "source":"header",
        "name":"X-Docker-Version"
      },
      {
        "source":"payload",
        "name":"dockerhub_username"
      },
      {
        "source":"payload",
        "name":"dockerhub_password"
      }
    ],
    "trigger-rule":{
      "and":[
        {
          "match":{
            "type":"payload-hmac-sha256",
            "secret":"SECRET_CHANGE_IT",
            "parameter":{
              "source":"header",
              "name":"X-Hub-Signature-256"
            }
          }
        },
        {
          "match":{
            "type":"regex",
            "regex":"^\\d{4}-\\d{2}-\\d{2}$",
            "parameter":{
              "source":"header",
              "name":"X-Docker-Version"
            }
          }
        }
      ]
    }
  }
]